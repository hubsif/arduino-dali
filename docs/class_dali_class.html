<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DALI Library for Arduino/AVR: DaliClass Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DALI Library for Arduino/AVR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_dali_class-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DaliClass Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_dali_8h_source.html">Dali.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:af768430212976a7dca6f3e5d8e260b0d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#af768430212976a7dca6f3e5d8e260b0d">daliCmd</a> { <br />
&#160;&#160;<b>CMD_OFF</b> = 0, 
<b>CMD_UP</b> = 1, 
<b>CMD_DOWN</b> = 2, 
<b>CMD_STEP_UP</b> = 3, 
<br />
&#160;&#160;<b>CMD_STEP_DOWN</b> = 4, 
<b>CMD_RECALL_MAX</b> = 5, 
<b>CMD_RECALL_MIN</b> = 6, 
<b>CMD_STEP_DOWN_AND_OFF</b> = 7, 
<br />
&#160;&#160;<b>CMD_ON_AND_STEP_UP</b> = 8, 
<b>CMD_GO_TO_LAST</b> = 10, 
<b>CMD_GO_TO_SCENE</b> = 16, 
<b>CMD_RESET</b> = 32, 
<br />
&#160;&#160;<b>CMD_ARC_TO_DTR</b> = 33, 
<b>CMD_SAVE_VARS</b> = 34, 
<b>CMD_SET_OPMODE</b> = 35, 
<b>CMD_RESET_MEM</b> = 36, 
<br />
&#160;&#160;<b>CMD_IDENTIFY</b> = 37, 
<b>CMD_DTR_AS_MAX</b> = 42, 
<b>CMD_DTR_AS_MIN</b> = 43, 
<b>CMD_DTR_AS_FAIL</b> = 44, 
<br />
&#160;&#160;<b>CMD_DTR_AS_POWER_ON</b> = 45, 
<b>CMD_DTR_AS_FADE_TIME</b> = 46, 
<b>CMD_DTR_AS_FADE_RATE</b> = 47, 
<b>CMD_DTR_AS_EXT_FADE_TIME</b> = 48, 
<br />
&#160;&#160;<b>CMD_DTR_AS_SCENE</b> = 64, 
<b>CMD_REMOVE_FROM_SCENE</b> = 80, 
<b>CMD_ADD_TO_GROUP</b> = 96, 
<b>CMD_REMOVE_FROM_GROUP</b> = 112, 
<br />
&#160;&#160;<b>CMD_DTR_AS_SHORT</b> = 128, 
<b>CMD_QUERY_STATUS</b> = 144, 
<b>CMD_QUERY_BALLAST</b> = 145, 
<b>CMD_QUERY_LAMP_FAILURE</b> = 146, 
<br />
&#160;&#160;<b>CMD_QUERY_LAMP_POWER_ON</b> = 147, 
<b>CMD_QUERY_LIMIT_ERROR</b> = 148, 
<b>CMD_QUERY_RESET_STATE</b> = 149, 
<b>CMD_QUERY_MISSING_SHORT</b> = 150, 
<br />
&#160;&#160;<b>CMD_QUERY_VERSION</b> = 151, 
<b>CMD_QUERY_DTR</b> = 152, 
<b>CMD_QUERY_DEVICE_TYPE</b> = 153, 
<b>CMD_QUERY_PHYS_MIN</b> = 154, 
<br />
&#160;&#160;<b>CMD_QUERY_POWER_FAILURE</b> = 155, 
<b>CMD_QUERY_OPMODE</b> = 158, 
<b>CMD_QUERY_LIGHTTYPE</b> = 159, 
<b>CMD_QUERY_ACTUAL_LEVEL</b> = 160, 
<br />
&#160;&#160;<b>CMD_QUERY_MAX_LEVEL</b> = 161, 
<b>CMD_QUERY_MIN_LEVEL</b> = 162, 
<b>CMD_QUERY_POWER_ON_LEVEL</b> = 163, 
<b>CMD_QUERY_FAIL_LEVEL</b> = 164, 
<br />
&#160;&#160;<b>CMD_QUERY_FADE_SPEEDS</b> = 165, 
<b>CMD_QUERY_SPECMODE</b> = 166, 
<b>CMD_QUERY_NEXT_DEVTYPE</b> = 167, 
<b>CMD_QUERY_EXT_FADE_TIME</b> = 168, 
<br />
&#160;&#160;<b>CMD_QUERY_CTRL_GEAR_FAIL</b> = 169, 
<b>CMD_PING</b> = 263, 
<b>CMD_QUERY_SCENE_LEVEL</b> = 176, 
<b>CMD_QUERY_GROUPS_0_7</b> = 192, 
<br />
&#160;&#160;<b>CMD_QUERY_GROUPS_8_15</b> = 193, 
<b>CMD_QUERY_ADDRH</b> = 194, 
<b>CMD_QUERY_ADDRM</b> = 195, 
<b>CMD_QUERY_ADDRL</b> = 196
<br />
 }</td></tr>
<tr class="separator:af768430212976a7dca6f3e5d8e260b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad036bea5694e61c123bb16373769a4e2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#ad036bea5694e61c123bb16373769a4e2">daliSpecialCmd</a> { <br />
&#160;&#160;<b>CMD_TERMINATE</b> = 256, 
<b>CMD_SET_DTR</b> = 257, 
<b>CMD_INITIALISE</b> = 258, 
<b>CMD_RANDOMISE</b> = 259, 
<br />
&#160;&#160;<b>CMD_COMPARE</b> = 260, 
<b>CMD_WITHDRAW</b> = 261, 
<b>CMD_SEARCHADDRH</b> = 264, 
<b>CMD_SEARCHADDRM</b> = 265, 
<br />
&#160;&#160;<b>CMD_SEARCHADDRL</b> = 266, 
<b>CMD_PROGRAMSHORT</b> = 267, 
<b>CMD_VERIFYSHORT</b> = 268, 
<b>CMD_QUERY_SHORT</b> = 269, 
<br />
&#160;&#160;<b>CMD_PHYS_SEL</b> = 270, 
<b>CMD_ENABLE_DT</b> = 272, 
<b>CMD_LOAD_DTR1</b> = 273, 
<b>CMD_LOAD_DTR2</b> = 274, 
<br />
&#160;&#160;<b>CMD_WRITE_MEM_LOC</b> = 275, 
<b>CMD_WRITE_MEM_LOC_NOREPLY</b> = 276
<br />
 }</td></tr>
<tr class="separator:ad036bea5694e61c123bb16373769a4e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa219a54f5a4d569f19c351fc26f205ea"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#aa219a54f5a4d569f19c351fc26f205ea">daliDevTypes</a> { <br />
&#160;&#160;<b>FLUORESCENT_LAMP</b>, 
<b>EMERGENCY_LIGHT</b>, 
<b>DISCHARGE_LAMP</b>, 
<b>HALOGEN_LAMP</b>, 
<br />
&#160;&#160;<b>INCANDESCENT_LAMP</b>, 
<b>DC_CONVERTER</b>, 
<b>LED_MODULE</b>, 
<b>SWITCH</b>, 
<br />
&#160;&#160;<b>COLOUR_CTRL</b>, 
<b>SEQUENCER</b>, 
<b>OPTICAL_CTRL</b>
<br />
 }</td></tr>
<tr class="separator:aa219a54f5a4d569f19c351fc26f205ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5867a1a323a0b4efeaf2b830e03694fa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a5867a1a323a0b4efeaf2b830e03694fa">daliAddressTypes</a> { <b>DALI_SHORT_ADDRESS</b> = 0, 
<b>DALI_GROUP_ADDRESS</b> = 1
 }</td></tr>
<tr class="separator:a5867a1a323a0b4efeaf2b830e03694fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a72c4417f788bbb465a4d234db4975b72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a72c4417f788bbb465a4d234db4975b72">begin</a> (byte tx_pin, byte rx_pin, bool active_low=true)</td></tr>
<tr class="separator:a72c4417f788bbb465a4d234db4975b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1980f90fce6c8869ffa9a6124c24101e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_dali_bus_8h.html#ae16f7cc30f294c9b437cb4295de5bc35">daliReturnValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a1980f90fce6c8869ffa9a6124c24101e">sendArc</a> (byte address, byte value, byte addr_type=DALI_SHORT_ADDRESS)</td></tr>
<tr class="separator:a1980f90fce6c8869ffa9a6124c24101e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee991b7ff97c4486358c06a1e67f8bc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_dali_bus_8h.html#ae16f7cc30f294c9b437cb4295de5bc35">daliReturnValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#aee991b7ff97c4486358c06a1e67f8bc5">sendCmd</a> (byte address, byte command, byte addr_type=DALI_SHORT_ADDRESS)</td></tr>
<tr class="separator:aee991b7ff97c4486358c06a1e67f8bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4e7396ea030118d0e42ca4c8163aa9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a6c4e7396ea030118d0e42ca4c8163aa9">sendCmdWait</a> (byte address, byte command, byte addr_type=DALI_SHORT_ADDRESS, byte timeout=50)</td></tr>
<tr class="separator:a6c4e7396ea030118d0e42ca4c8163aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337ecc2c136bc99e601cb820b44732cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_dali_bus_8h.html#ae16f7cc30f294c9b437cb4295de5bc35">daliReturnValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a337ecc2c136bc99e601cb820b44732cb">sendSpecialCmd</a> (word command, byte value=0)</td></tr>
<tr class="separator:a337ecc2c136bc99e601cb820b44732cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a555004b2172624c72fc056c9abf6c60c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a555004b2172624c72fc056c9abf6c60c">sendSpecialCmdWait</a> (word command, byte value=0, byte timeout=50)</td></tr>
<tr class="separator:a555004b2172624c72fc056c9abf6c60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163f15760823445b74764109482aec5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a163f15760823445b74764109482aec5d">sendRawWait</a> (const byte *message, byte length, byte timeout=50)</td></tr>
<tr class="separator:a163f15760823445b74764109482aec5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b3d39d56c5f5e15bd28a8689b4e624"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a06b3d39d56c5f5e15bd28a8689b4e624">commission</a> ()</td></tr>
<tr class="separator:a06b3d39d56c5f5e15bd28a8689b4e624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a013b2d375ea49a6ab4c709d6ec4099b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a013b2d375ea49a6ab4c709d6ec4099b5">commission_tick</a> ()</td></tr>
<tr class="separator:a013b2d375ea49a6ab4c709d6ec4099b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a76024ca4ef39d541a70a7ef2bf82b3c0"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#a76024ca4ef39d541a70a7ef2bf82b3c0">noOfBallasts</a></td></tr>
<tr class="separator:a76024ca4ef39d541a70a7ef2bf82b3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:ad025396aa4dbd349e5c8d1f1e792b39a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#ad025396aa4dbd349e5c8d1f1e792b39a">commissionStateEnum</a> { <br />
&#160;&#160;<b>COMMISSION_OFF</b>, 
<b>COMMISSION_INIT</b>, 
<b>COMMISSION_INIT2</b>, 
<b>COMMISSION_WRITE_DTR</b>, 
<br />
&#160;&#160;<b>COMMISSION_REMOVE_SHORT</b>, 
<b>COMMISSION_REMOVE_SHORT2</b>, 
<b>COMMISSION_RANDOM</b>, 
<b>COMMISSION_RANDOM2</b>, 
<br />
&#160;&#160;<b>COMMISSION_STARTSEARCH</b>, 
<b>COMMISSION_SEARCHHIGH</b>, 
<b>COMMISSION_SEARCHMID</b>, 
<b>COMMISSION_SEARCHLOW</b>, 
<br />
&#160;&#160;<b>COMMISSION_COMPARE</b>, 
<b>COMMISSION_CHECKFOUND</b>, 
<b>COMMISSION_PROGRAMSHORT</b>, 
<b>COMMISSION_VERIFYSHORT</b>, 
<br />
&#160;&#160;<b>COMMISSION_VERIFYSHORTRESPONSE</b>, 
<b>COMMISSION_QUERYDEVICETYPE</b>, 
<b>COMMISSION_QUERYDEVICETYPERESPONSE</b>, 
<b>COMMISSION_WITHDRAW</b>, 
<br />
&#160;&#160;<b>COMMISSION_TERMINATE</b>
<br />
 }</td></tr>
<tr class="separator:ad025396aa4dbd349e5c8d1f1e792b39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afeba3c88cbc521dabf418be7cdcbd4c4"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#afeba3c88cbc521dabf418be7cdcbd4c4">prepareCmd</a> (byte *message, byte address, byte command, byte type, byte selector)</td></tr>
<tr class="separator:afeba3c88cbc521dabf418be7cdcbd4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4d86833b3e0c4b3fc6c412df8cc0ca"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#afb4d86833b3e0c4b3fc6c412df8cc0ca">prepareSpecialCmd</a> (byte *message, word command, byte value)</td></tr>
<tr class="separator:afb4d86833b3e0c4b3fc6c412df8cc0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aef718f914b7e59fc1b3097259467b029"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_dali_class.html#ad025396aa4dbd349e5c8d1f1e792b39a">commissionStateEnum</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dali_class.html#aef718f914b7e59fc1b3097259467b029">commissionState</a> = COMMISSION_OFF</td></tr>
<tr class="separator:aef718f914b7e59fc1b3097259467b029"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DALI library base class. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ad025396aa4dbd349e5c8d1f1e792b39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad025396aa4dbd349e5c8d1f1e792b39a">&#9670;&nbsp;</a></span>commissionStateEnum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_dali_class.html#ad025396aa4dbd349e5c8d1f1e792b39a">DaliClass::commissionStateEnum</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>commissioning state machine states </p>

</div>
</div>
<a id="a5867a1a323a0b4efeaf2b830e03694fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5867a1a323a0b4efeaf2b830e03694fa">&#9670;&nbsp;</a></span>daliAddressTypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_dali_class.html#a5867a1a323a0b4efeaf2b830e03694fa">DaliClass::daliAddressTypes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type of address (short/group) </p>

</div>
</div>
<a id="af768430212976a7dca6f3e5d8e260b0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af768430212976a7dca6f3e5d8e260b0d">&#9670;&nbsp;</a></span>daliCmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_dali_class.html#af768430212976a7dca6f3e5d8e260b0d">DaliClass::daliCmd</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DALI commands </p>

</div>
</div>
<a id="aa219a54f5a4d569f19c351fc26f205ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa219a54f5a4d569f19c351fc26f205ea">&#9670;&nbsp;</a></span>daliDevTypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_dali_class.html#aa219a54f5a4d569f19c351fc26f205ea">DaliClass::daliDevTypes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DALI device types </p>

</div>
</div>
<a id="ad036bea5694e61c123bb16373769a4e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad036bea5694e61c123bb16373769a4e2">&#9670;&nbsp;</a></span>daliSpecialCmd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_dali_class.html#ad036bea5694e61c123bb16373769a4e2">DaliClass::daliSpecialCmd</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DALI special commands </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a72c4417f788bbb465a4d234db4975b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c4417f788bbb465a4d234db4975b72">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DaliClass::begin </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>tx_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>rx_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>active_low</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the DALI bus </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx_pin</td><td>Pin to use for transmission </td></tr>
    <tr><td class="paramname">rx_pin</td><td>Pin to use for reception. Must support Pin Change Interrupt. </td></tr>
    <tr><td class="paramname">active_low</td><td>set to false if bus is active low</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the hardware for DALI usage (i.e. set pin modes, timer and interrupts). By default the bus is driven active-low, meaning with the µC tx pin being low the DALI bus will be high (idle). For transmission the µC pin will be set high, which will pull the DALI voltage low. This behaviour is used by most DALI hardware interfaces. The same logic applies to the rx pin. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="dali_blink_8ino-example.html#a1">dali_blink.ino</a>.</dd>
</dl>

</div>
</div>
<a id="a06b3d39d56c5f5e15bd28a8689b4e624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b3d39d56c5f5e15bd28a8689b4e624">&#9670;&nbsp;</a></span>commission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DaliClass::commission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiate commissioning of all DALI ballasts</p>
<p>This method starts the DALI commissioning process. At least during commissioning, the method <a class="el" href="class_dali_class.html#a013b2d375ea49a6ab4c709d6ec4099b5">commission_tick()</a> needs to be called repeatedly until commissioning has finished. First, current short addresses from all ballasts are removed. Then all found ballasts are assigned a new short address, starting from 0. The number of ballasts found is stored in <a class="el" href="class_dali_class.html#a76024ca4ef39d541a70a7ef2bf82b3c0">noOfBallasts</a>. </p>

</div>
</div>
<a id="a013b2d375ea49a6ab4c709d6ec4099b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a013b2d375ea49a6ab4c709d6ec4099b5">&#9670;&nbsp;</a></span>commission_tick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DaliClass::commission_tick </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State machine ticker for commissioning. See <a class="el" href="class_dali_class.html#a06b3d39d56c5f5e15bd28a8689b4e624">commission()</a>. </p>

</div>
</div>
<a id="afeba3c88cbc521dabf418be7cdcbd4c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeba3c88cbc521dabf418be7cdcbd4c4">&#9670;&nbsp;</a></span>prepareCmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte * DaliClass::prepareCmd </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepares a byte array for sending DALI commands </p>

</div>
</div>
<a id="afb4d86833b3e0c4b3fc6c412df8cc0ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4d86833b3e0c4b3fc6c412df8cc0ca">&#9670;&nbsp;</a></span>prepareSpecialCmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte * DaliClass::prepareSpecialCmd </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">word&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepares a byte array for sending DALI Special Commands </p>

</div>
</div>
<a id="a1980f90fce6c8869ffa9a6124c24101e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1980f90fce6c8869ffa9a6124c24101e">&#9670;&nbsp;</a></span>sendArc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_dali_bus_8h.html#ae16f7cc30f294c9b437cb4295de5bc35">daliReturnValue</a> DaliClass::sendArc </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>addr_type</em> = <code>DALI_SHORT_ADDRESS</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a direct arc level command </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>destination address </td></tr>
    <tr><td class="paramname">value</td><td>arc level </td></tr>
    <tr><td class="paramname">addr_type</td><td>address type (short/group) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a></dd></dl>
<p>This methods sends a "direct arc power control command" to the bus It doesn't check if the bus is ready and returns immediately, stating if transmission could be initiated through its response value <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a>. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="dali_blink_8ino-example.html#a2">dali_blink.ino</a>.</dd>
</dl>

</div>
</div>
<a id="aee991b7ff97c4486358c06a1e67f8bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee991b7ff97c4486358c06a1e67f8bc5">&#9670;&nbsp;</a></span>sendCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_dali_bus_8h.html#ae16f7cc30f294c9b437cb4295de5bc35">daliReturnValue</a> DaliClass::sendCmd </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>addr_type</em> = <code>DALI_SHORT_ADDRESS</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a DALI command </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>destination address </td></tr>
    <tr><td class="paramname">command</td><td>DALI command </td></tr>
    <tr><td class="paramname">addr_type</td><td>address type (short/group) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a> This method sends a DALI Command to the bus (Commands from 0 to 255). It doesn't check if the bus is ready and returns immediately, stating if transmission could be initiated through its response value <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a>. Note that some of the special commands need to be sent twice (258 - INITIALISE, 259 - RANDOMISE), which this method doesn't do by itself. </dd></dl>

</div>
</div>
<a id="a6c4e7396ea030118d0e42ca4c8163aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4e7396ea030118d0e42ca4c8163aa9">&#9670;&nbsp;</a></span>sendCmdWait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DaliClass::sendCmdWait </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>addr_type</em> = <code>DALI_SHORT_ADDRESS</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a DALI command, wait for its completion and return the response if available </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>destination address </td></tr>
    <tr><td class="paramname">command</td><td>DALI command </td></tr>
    <tr><td class="paramname">addr_type</td><td>address type (short/group) </td></tr>
    <tr><td class="paramname">timeout</td><td>time in ms to wait for action to complete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns either the response, DALI_RX_EMPTY or any of <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a> on error </dd></dl>

</div>
</div>
<a id="a163f15760823445b74764109482aec5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163f15760823445b74764109482aec5d">&#9670;&nbsp;</a></span>sendRawWait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DaliClass::sendRawWait </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send raw values to the DALI bus </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>byte array to send </td></tr>
    <tr><td class="paramname">length</td><td>length of the byte array </td></tr>
    <tr><td class="paramname">timeout</td><td>time in ms to wait for action to complete</td></tr>
  </table>
  </dd>
</dl>
<p>This method sends a raw byte array of <code>length</code> to the bus. The array can be three bytes max. It waits for the bus to become idle before and after transmission. It returns either the received response, DALI_RX_EMPTY if no response has been received or any of <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a> if an error has occurred. </p>

</div>
</div>
<a id="a337ecc2c136bc99e601cb820b44732cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337ecc2c136bc99e601cb820b44732cb">&#9670;&nbsp;</a></span>sendSpecialCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_dali_bus_8h.html#ae16f7cc30f294c9b437cb4295de5bc35">daliReturnValue</a> DaliClass::sendSpecialCmd </td>
          <td>(</td>
          <td class="paramtype">word&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>value</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a DALI special command </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>DALI special command </td></tr>
    <tr><td class="paramname">value</td><td>Value (2nd byte) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a></dd></dl>
<p>This method sends a DALI Special Command to the bus (Special Commands are commands from 256 to 287). It doesn't check if the bus is ready and returns immediately, stating if transmission could be initiated through its response value <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a>. Note that some of the special commands need to be sent twice (258 - INITIALISE, 259 - RANDOMISE), which this method doesn't do by itself. </p>

</div>
</div>
<a id="a555004b2172624c72fc056c9abf6c60c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a555004b2172624c72fc056c9abf6c60c">&#9670;&nbsp;</a></span>sendSpecialCmdWait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DaliClass::sendSpecialCmdWait </td>
          <td>(</td>
          <td class="paramtype">word&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>value</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a DALI special command, wait for its completion and return the response if available </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>DALI special command </td></tr>
    <tr><td class="paramname">value</td><td>Value (2nd byte) </td></tr>
    <tr><td class="paramname">timeout</td><td>time in ms to wait for action to complete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns either the response, DALI_RX_EMPTY or any of <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a> on error</dd></dl>
<p>This method sends a DALI Special Command to the bus (Special Commands are commands from 256 to 287). It uses <a class="el" href="class_dali_class.html#a163f15760823445b74764109482aec5d">sendRawWait()</a>, so it waits for the bus to become idle before and after transmission. It returns either the received response, DALI_RX_EMPTY if no response has been received or any of <a class="el" href="_dali_bus_8h.html#a04bb1edc6ca05806c4f51f72332574cd">daliReturnValue</a> if an error has occurred. Note that some of the special commands need to be sent twice (258 - INITIALISE, 259 - RANDOMISE), which this method doesn't do by itself. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aef718f914b7e59fc1b3097259467b029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef718f914b7e59fc1b3097259467b029">&#9670;&nbsp;</a></span>commissionState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_dali_class.html#ad025396aa4dbd349e5c8d1f1e792b39a">commissionStateEnum</a> DaliClass::commissionState = COMMISSION_OFF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>current state of commissioning state machine </p>

</div>
</div>
<a id="a76024ca4ef39d541a70a7ef2bf82b3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76024ca4ef39d541a70a7ef2bf82b3c0">&#9670;&nbsp;</a></span>noOfBallasts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte DaliClass::noOfBallasts</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of ballasts found after commissioning. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_dali_8h_source.html">Dali.h</a></li>
<li>src/Dali.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
